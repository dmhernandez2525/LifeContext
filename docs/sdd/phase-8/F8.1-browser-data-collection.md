# F8.1 Browser Data Collection - SDD

## Overview
Enhanced browser data collection with date range filtering, privacy scoring, step-by-step progress tracking, and selective import capabilities.

## Components Created

### `apps/web/src/lib/privacyScoring.ts`
- Cookie categorization into tracking, analytics, functional, advertising, unknown
- Privacy score calculation (0-100) based on cookie category distribution
- Domain analysis for browsing history with visit frequency ranking
- Full privacy analysis returning score, label, color, and per-category counts

### `apps/web/src/components/data-reclamation/CollectionProgress.tsx`
- Step-by-step progress indicator for history, cookies, and bookmarks collection
- Overall progress bar with completed/total count
- Per-step status display: idle, collecting (spinner), complete (checkmark), error

### `apps/web/src/components/data-reclamation/DataPreviewPanel.tsx`
- Preview collected data before importing to store
- Selective import checkboxes per data type (history, cookies, bookmarks)
- Top domain frequency display from collected history
- Integrates PrivacyScoreCard for cookie analysis

### `apps/web/src/components/data-reclamation/PrivacyScoreCard.tsx`
- Visual privacy score display with 0-100 scale
- Color-coded bar (green >= 70, yellow >= 40, red < 40)
- Category breakdown showing tracking, advertising, analytics, functional, other counts

### `apps/web/src/pages/DataReclamationPage.tsx`
- Two-phase UI: consent screen then collection view
- Date range filtering with start/end date pickers
- Demo data generator producing history items proportional to date range
- Two-column layout with progress on left and preview on right
- Import button pushes selected data types to Zustand store

## Store Changes

### `apps/web/src/store/data-reclamation-store.ts`
- Added `setCookieDomains` action for bulk cookie domain replacement
- Added `setBookmarks` action for bulk bookmark replacement

## Architecture Decisions
- Demo data generator used when extension is not installed, keeping the UI fully functional
- Privacy scoring uses pattern-matching against known tracker/ad/analytics domains
- Collection is sequential (history -> cookies -> bookmarks) with per-step status updates
- Bookmarks always show "error" status since they require the Chrome extension
