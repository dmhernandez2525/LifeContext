# F9.3 Key Rotation - SDD

## Overview
Added encryption key rotation with new salt generation, passcode re-hashing, configurable rotation reminders, and re-encryption helper for encrypted data migration.

## Files Created

### `apps/web/src/lib/keyRotation.ts`
- `rotatePasscodeCredentials(passcode)` - Generates new salt, re-hashes passcode, updates localStorage
- `reEncryptItem(item, oldPasscode, oldSalt, newPasscode, newSalt)` - Decrypts with old key and re-encrypts with new key
- `isRotationDue(lastRotation, reminderDays)` - Checks if rotation interval has elapsed
- `getRotationAge(lastRotation)` - Human-readable time since last rotation

### `apps/web/src/components/security/KeyRotationPanel.tsx`
- Status card showing rotation state (current vs recommended) with color coding
- Reminder interval selector (30d, 60d, 90d, 6mo, 1yr)
- Rotation form requiring current passcode verification before proceeding
- Success/error feedback messages
- Passcode verified against stored hash before rotation proceeds

## Architecture Decisions
- Rotation changes the salt only, not the passcode itself, maintaining user's muscle memory
- Re-encryption is a separate concern from salt rotation, available as a utility function
- Passcode verification required before rotation to prevent unauthorized credential changes
- Rotation reminder stored in security-store with configurable interval
- Last rotation timestamp tracked for due-date calculations
